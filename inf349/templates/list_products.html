<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Boutique - Liste de produits</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css', v='20260228b') }}">
</head>
<body>
  <main class="container">
    <header class="page-header">
      <h1>Notre sélection de produits</h1>
      <a href="{{ url_for('ui_order_form') }}">Démarrer une commande</a>
    </header>

    {% if products %}
      <section class="product-list" aria-label="Liste des produits">
        {% for product in products %}
          <article class="product-card">
            <div class="product-image">
              {% if product.image %}
                <img src="{{ url_for('static', filename='images/' + product.image) }}" alt="{{ product.name }}">
              {% endif %}
            </div>

            <div class="product-body">
                <h2>{{ product.name }}</h2>
                {% if product.in_stock %}
                  <span class="stock-status in-stock">En stock</span>
                {% else %}
                  <span class="stock-status out-of-stock">Rupture de stock</span>
                {% endif %}
              <p class="product-meta">{{ product.description }}</p>
              <p>Poids: {{ product.weight }} g</p>
              <p>Prix: ${{ "%.2f" | format(product.price) }}</p>
            </div>

            <div class="product-actions">
              {% if product.in_stock %}
                <a href="{{ url_for('ui_order_form') }}?product_id={{ product.id }}" class="add-to-cart">
                  Ajouter au panier
                </a>
              {% else %}
                <button class="add-to-cart" disabled>Indisponible</button>
              {% endif %}
            </div>
          </article>
        {% endfor %}
      </section>
    {% else %}
      <p>Aucun produit disponible pour le moment.</p>
    {% endif %}
  </main>
</body>
</html> 
